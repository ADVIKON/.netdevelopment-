<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }">
</ngx-loading>
<div class="container-fluid m-0 p-0">
    <form [formGroup]="TokenInfo"  class="p-0">

        <div class="form-row">
            <div class="form-group col-sm-4 pb-0 m-0">
                <label for="token" class="mb-2 mr-sm-2">Token:</label>
                <input type="text" formControlName="token" class="form-control mb-2 mr-sm-2" id="token">

            </div>
            <div class="form-group col-sm-4 pb-0 m-0">
                <label for="name" class="mb-2 mr-sm-2">Name:</label>
                <input type="text" formControlName="personName" class="form-control mb-2 mr-sm-2" id="name">
            </div>
            <div class="form-group col-sm-4 pb-0 m-0">
                <label for="countryName" class="mb-2 mr-sm-2">Country Name:</label>
                <select name="countryname" formControlName="country" class="custom-select"
                    (change)="onChangeCountry($event.target.value)" id="countryName">
                    <option selected value="0"></option>
                    <option *ngFor="let cLst of CountryList" [value]="cLst.Id">{{cLst.DisplayName}}</option>
                </select>

            </div>
            <div class="form-group col-sm-4 pb-0 m-0">
                <div class="col-sm-11 p-0 pr-1 m-0 pull-left">
                <label for="StateName" class="mb-2 mr-sm-2">State Name: </label>
                <select name="sName" formControlName="state" class="custom-select"
                    (change)="onChangeState($event.target.value)" id="StateName">
                    <option selected value="0"></option>
                    <option *ngFor="let stateLst of StateList" [value]="stateLst.Id">{{stateLst.DisplayName}}</option>
                </select>
            </div>
            <div class="col-sm-1 pull-right p-0">
                <label for="btnStateName" class="mb-2 mr-sm-2">&nbsp;</label>
             <button id="btnStateName" class="btn btn-primary" 
             (click)="openCommonModal(modalCommon,'State')" style="padding: 0.200rem 0.5rem;">
            <i class="fa fa-bars" aria-hidden="true"></i>
          </button>
            </div>
            </div>
            <div class="form-group col-sm-4 pb-0 m-0">
                <div class="col-sm-11 p-0 pr-1 m-0 pull-left">
                    <label for="CityName" class="mb-2 mr-sm-2">City Name:</label>
                    <select name="cityname" formControlName="city" class="custom-select" 
                    (change)="onChangeCity($event.target.value)" id="CityName">
                        <option selected value="0"></option>
                        <option *ngFor="let cityLst of CityList" [value]="cityLst.Id">{{cityLst.DisplayName}}</option>
                    </select>
                    </div>
                    <div class="col-sm-1 pull-right p-0">
                        <label for="btnCityName" class="mb-2 mr-sm-2">&nbsp;</label>
                     <button id="btnCityName" class="btn btn-primary"
                      (click)="openCommonModal(modalCommon,'City')" style="padding: 0.200rem 0.5rem;">
                    <i class="fa fa-bars" aria-hidden="true"></i>
                  </button>
                    </div>
               
            </div>
            <div class="form-group col-sm-4 pb-0 m-0">
                <label for="street" class="mb-2 mr-sm-2">Street:</label>
                <input type="text" formControlName="street" class="form-control mb-2 mr-sm-2" id="street">

            </div>




            <div class="form-group col-sm-4 pb-0 m-0">
                <label for="location">Location:</label>
                <input type="text" formControlName="location" class="form-control mb-2 mr-sm-2" id="location">
            </div>
            <div class="form-group col-sm-4 pb-0 m-0">
                <div class="col-sm-6 float-left pl-0">
                <label for="dtExpiry" class="mb-2 mr-sm-2">Expiry Date:</label>
                <input id="dtExpiry" formControlName="ExpiryDate" class="form-control mb-2 mr-sm-2"
                    [owlDateTimeTrigger]="dtExpiry" [owlDateTime]="dtExpiry" readonly>
                <owl-date-time [pickerType]="'calendar'" #dtExpiry></owl-date-time>
                </div>
                <div class="col-sm-6 float-left pl-0">
                    <label for="playerType">Player Type:</label>
                <select name="pType" formControlName="PlayerType" class="custom-select" id="playerType">
                    <option selected value="0"></option>
                    <option selected value="Desktop">Desktop</option>
                    <option selected value="Android">Android</option>
                </select>
                </div>

            </div>
            <div class="form-group col-sm-4 pb-0 m-0">
                <div class="col-sm-11 p-0 pr-1 m-0 pull-left">
                <label for="GroupId">Group:</label>
                
                <select name="GroupId" formControlName="GroupId" class="custom-select" 
                    (change)="onChangeGroup($event.target.value)" id="GroupId">
                        <option selected value="0"></option>
                        <option *ngFor="let grpLst of GroupList" [value]="grpLst.Id">{{grpLst.DisplayName}}</option>
                    </select>
            </div>
            <div class="col-sm-1 pull-right p-0">
                <label for="btnGroup" class="mb-2 mr-sm-2">&nbsp;</label>
             <button id="btnGroup" class="btn btn-primary" 
             (click)="openCommonModal(modalCommon,'Group')" style="padding: 0.200rem 0.5rem;">
            <i class="fa fa-bars" aria-hidden="true"></i>
          </button>
            </div>


        </div>
            <div class="form-group col-sm-4 pb-0 m-0">
                <div class="col-sm-6 float-left pl-0">
                    <label for="LicenceType">Licence Type:</label>
                    <select name="lType" formControlName="LicenceType" class="custom-select" id="LicenceType">
                        <option selected value="0"></option>
                        <option selected value="Copyright">Copyright</option>
                        <option selected value="DirectLicence">Direct Licence</option>
                    </select>
                </div>
                <div class="col-sm-6 float-left m-0 p-0">
                    <label for="ScheduleType">Schedule Type:</label>
                    <select name="ScheduleType" (change)="onChangeSchedule($event.target.value)"
                        formControlName="ScheduleType" class="custom-select" id="ScheduleType">
                        <option selected value="Normal">Normal Schedule</option>
                        <option selected value="OneToOnePlaylist">One to One Playlist</option>
                    </select>
                </div>
            </div>
            <div class="form-group col-sm-4 pb-0 m-0">
                <label for="tokenno">Token No:</label>
                <input type="text" formControlName="TokenNoBkp" class="form-control mb-2 mr-sm-2" id="tokenno" readonly>


            </div>
            <div class="form-group col-sm-4 pb-0 m-0">
                <label for="deviceid">Device Id(UUID):</label>
                <input type="text" formControlName="DeviceId" class="form-control mb-2 mr-sm-2" id="deviceid" readonly>

            </div>

            <!--<div class="d-none form-group col-sm-3 pb-0 m-0" style="max-width: 21%;">
                <label for="type">Type:</label>
                <div class="" id="type" style="background-image: none;">
                    <div class="custom-control custom-radio custom-control-inline mr-4 ">
                        <input type="radio" formControlName="chkType" name="chkType" value="SF"
                            class="custom-control-input cursor-pointer" id="chkSF" checked>
                        <label class="custom-control-label cursor-pointer" for="chkSF">Store&amp;Forward</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline ml-auto">
                        <input type="radio" formControlName="chkType" name="chkType" value="Stream"
                            class="custom-control-input cursor-pointer  ml-5" id="chkStream">
                        <label class="custom-control-label cursor-pointer" for="chkStream">Stream</label>
                    </div>
                </div>
                 

            </div>-->


            <div class="form-group col-sm-4 pb-0 m-0">

                <div class="col-sm-6 float-left pl-0">
                    <label for="MediaType">Media Type:</label>
                    <select name="lType" formControlName="chkMediaType" class="custom-select" id="MediaType">
                        <option selected value="0"></option>
                        <option selected value="Audio">Audio</option>
                        <option selected value="Video">Video</option>
                        <option selected value="Signage">Signage</option>
                    </select>
                </div>

               <div class="col-sm-6 float-left m-0 p-0">
                    <label for="Rotation">Rotation:</label>
                    <select name="lType" formControlName="Rotation" class="custom-select" id="Rotation">
                        <option selected value="0">Landscape</option>
                        <option selected value="10">Portrait 0</option>
                        <option selected value="90">Portrait 90</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group col-sm-4 pb-0 m-0">

                
 <div class="col-sm-6 float-left pl-0">
                    <label for="uRights">User Rights:</label>
                    <select name="uRights" (change)="onChangeSchedule($event.target.value)"
                        formControlName="chkuserRights" class="custom-select" id="uRights">
                        <option selected value="0"></option>
                        <option selected value="Lock">Lock</option>
                        <option selected value="UnLock">Un-Lock</option>
                    </select>
                </div>
                <div class="col-sm-6 float-left m-0 p-0">
                <label for="uRights1">&nbsp;</label>
                <div id="uRights1" class="custom-control custom-checkbox  mb-2 mr-sm-2">
                    <input type="checkbox" class="custom-control-input" id="chkIndicatorID" formControlName="chkIndicator"
                        [checked]="chkIndicatorBox" name="chkToken">
                    <label class="custom-control-label" for="chkIndicatorID">Show Online Indicator</label>

                </div></div>
            </div>
            <div class="form-group col-sm-4 pb-0 m-0" style="padding-top: 1.6rem;">
                <button class="btn btn-primary ml-2 float-right" type="button" (click)="onSubmitTokenInfo()">
                    <i class="fa fa-floppy-o fa-lg" aria-hidden="true"></i>
                </button>
                <button type="button" type="button" (click)="openResetModal(ResetModal)"
                    class="btn btn-danger float-right">Reset
                    token</button>

            </div>
        </div>

    </form>
    <div class="mt-2 col-md-12 p-0" style="background: #fff;color: #000;">
        <ul class="nav nav-tabs">
            <li class=" active"><a data-toggle="tab" href="#home" class="nav-link active ">S&amp;F Playlist Schedule</a>
            </li>
            <li><a data-toggle="tab" href="#menu1" class="nav-link">Advertisement </a></li>
            <li><a data-toggle="tab" href="#menu2" class="nav-link">Prayer Timing </a></li>
            <!--
<li><a data-toggle="tab" href="#menu3" class="nav-link">Signage App Logo </a></li>
           -->
        </ul>
        <div class="tab-content">
            <div id="home" class="tab-pane  in active">
                <table class="mt-2  table table-hover table table-sm  table-bordered">
                    <thead class="thead-light">
                        <tr>
                            <th scope="col">Format Name</th>
                            <th scope="col">Playlist Name</th>
                            <th scope="col">Start Time</th>
                            <th scope="col">End Time</th>
                            <th scope="col">Week Day</th>
                            <th scope="col" class="Link-Center_Width"></th>
                            <th scope="col" class="Link-Center_Width"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let schLst of ModifySchList;">
                            <td data-label="Format Name">
                                {{schLst.formatName}}
                            </td>
                            <td data-label="Playlist Name">
                                {{schLst.playlistName}}
                            </td>
                            <td data-label="Start Time">
                                {{schLst.StartTime}}
                            </td>
                            <td data-label="End Time">
                                {{schLst.EndTime}}
                            </td>
                            <td data-label="Week Day">
                                {{schLst.WeekDay}}
                            </td>
                            <td data-label="" class="text-primary m-0 p-0"
                                (click)="openModal(SchContent, schLst.playlistName, schLst.id ,schLst.StartTime,schLst.EndTime )">
                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            </td>
                            <td data-label="" class="text-danger m-0 p-0"
                                (click)="openDeleteModal(SchDeleteModal, schLst.id)">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="menu1" class="tab-pane fade">
                <table class="mt-2 table table-hover table table-sm  table-bordered">
                    <thead class="thead-light">
                        <tr class="d-flex">
                            <th class="col">Advt Name</th>
                            <th class="col">Type</th>
                            <th class="col">Start Date</th>
                            <th class="col">Playing Mode</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="d-flex" *ngFor="let adLst of adList;">
                            <td class="col">{{adLst.adName}}</td>
                            <td class="col">{{adLst.atype}}</td>
                            <td class="col">{{adLst.startDate}}</td>
                            <td class="col">{{adLst.playingMode}}</td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <div id="menu2" class="tab-pane fade">
                <table class="mt-2  table table-hover table table-sm  table-bordered">
                    <thead class="thead-light">
                        <tr class="d-flex">
                            <th class="col">Start Date</th>
                            <th class="col">Time 1</th>
                            <th class="col">Time 2</th>
                            <th class="col">Time 3</th>
                            <th class="col">Time 4</th>
                            <th class="col">Time 5</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="d-flex" *ngFor="let prayerLst of prayerList;">
                            <td class="col">{{prayerLst.StartDate}}</td>
                            <td class="col">{{prayerLst.Time1}}</td>
                            <td class="col">{{prayerLst.Time2}}</td>
                            <td class="col">{{prayerLst.Time3}}</td>
                            <td class="col">{{prayerLst.Time4}}</td>
                            <td class="col">{{prayerLst.Time5}}</td>
                        </tr>

                    </tbody>
                </table>
            </div>

        </div>

    </div>
</div>


<ng-template #SchContent let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h5>Modify Playlist Time</h5>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form [formGroup]="TokenInfoModifyPlaylist">
                <div class="row">
                    <div class="col-sm-12">
                        <label for="mPlaylistName" class="mb-2 mr-sm-2">Playlist Name:</label>
                        <input type="text" formControlName="ModifyPlaylistName" class="form-control mb-2 mr-sm-2"
                            id="mPlaylistName" readonly>
                    </div>
                    <div class="col-sm-12">
                        <div class="col-sm-6 pull-left" style="padding: 0 0 0 0;">
                            <label class="mb-2 mr-sm-2" for="sTime">Start time: </label>
                            <input id="sTime" class="form-control mb-2 mr-sm-2" formControlName="ModifyStartTime"
                                [owlDateTimeTrigger]="dt1" [owlDateTime]="dt1" readonly>
                            <owl-date-time [pickerType]="'timer'" #dt1></owl-date-time>
                        </div>
                        <div class="col-sm-6 pull-right" style="padding: 0 0 0 5px;">
                            <label class="mb-2 mr-sm-2" for="sTime">End time: </label>
                            <input id="eTime" class="form-control mb-2 mr-sm-2" formControlName="ModifyEndTime"
                                [owlDateTimeTrigger]="dt2" [owlDateTime]="dt2" readonly>
                            <owl-date-time [pickerType]="'timer'" #dt2></owl-date-time>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <button class="btn btn-primary col-sm-2  pull-right" (click)="onSubmitTokenInfoModifyPlaylist()"
                            (click)="d('Cross click')">
                            <i class="fa fa-floppy-o fa-lg" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

</ng-template>

<ng-template #ResetModal let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h5>Reset Token</h5>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-12">
                    <p>Are you sure to reset the token?</p>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <button class="btn btn-primary col-sm-2  pull-right" (click)="d('Cross click')">
                        <i class="fa fa-times fa-lg" aria-hidden="true"></i>
                    </button>
                    <button class="btn btn-danger col-sm-2  pull-right mr-2" (click)="ResetToken()"
                        (click)="d('Cross click')">
                        <i class="fa fa-check fa-lg" aria-hidden="true"></i>
                    </button>

                </div>
            </div>

        </div>
    </div>

</ng-template>



<ng-template #modalState let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h5>State</h5>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">

            <div class="row">
                <div class="col-sm-12">
                    <label for="State" class="mb-2 mr-sm-2">State Name:</label>
                    <input type="text" [(ngModel)]="StateName" class="form-control mb-2 mr-sm-2" id="State">
                </div>

            </div>
            <div class="row">
                <div class="col-sm-12">
                    <button class="btn btn-primary col-sm-2  pull-right" type="button" 
                    (click)="onSubmitState()"
                        (click)="d('Cross click')">
                        <i class="fa fa-floppy-o fa-lg" aria-hidden="true"></i>
                    </button>
                </div>
            </div>

        </div>
    </div>

</ng-template>

<ng-template #SchDeleteModal let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h5>Delete Schedule Playlist</h5>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-12">
                    <p>Are you sure to delete?</p>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <button class="btn btn-primary col-sm-2  pull-right" (click)="d('Cross click')">
                        <i class="fa fa-times fa-lg" aria-hidden="true"></i>
                    </button>
                    <button class="btn btn-danger col-sm-2  pull-right mr-2" (click)="DeleteSchPlaylist()"
                        (click)="d('Cross click')">
                        <i class="fa fa-check fa-lg" aria-hidden="true"></i>
                    </button>

                </div>
            </div>

        </div>
    </div>

</ng-template>

<!-- <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }" [template]="customLoadingTemplate">
</ngx-loading>
<div class="container-fluid">
    <form [formGroup]="TokenInfo" (ngSubmit)="onSubmitTokenInfo()">
        <div class="row">
            <div class="col-sm-4">
                <div class="col-sm-6 pull-left" style="padding: 0 0 0 0px;">
                    <label for="token" class="mb-2 mr-sm-2">Token:</label>
                    <input type="text" formControlName="token" class="form-control mb-2 mr-sm-2" id="token">

                </div>
                <div class="col-sm-6 pull-right" style="padding: 0 0 0 5px;">
                    <label for="name" class="mb-2 mr-sm-2">Name:</label>
                    <input type="text" formControlName="personName" class="form-control mb-2 mr-sm-2" id="name">
                </div>
            </div>
            <div class="col-sm-4">
                <div class="col-sm-6 pull-left" style="padding: 0 0 0 0px;">
                    <label for="countryName" class="mb-2 mr-sm-2">Country Name:</label>
                    <select name="countryname" formControlName="country" class="custom-select" 
                    (change)="onChangeCountry($event.target.value)" id="countryName">
                        <option selected value="0"></option>
                        <option *ngFor="let cLst of CountryList" [value]="cLst.Id" >{{cLst.DisplayName}}</option>
                    </select>

                </div>
                <div class="col-sm-6 pull-right" style="padding: 0 0 0 5px;">
                    <label for="StateName" class="mb-2 mr-sm-2">State Name:</label>
                    <select name="sName" formControlName="state" class="custom-select"
                    (change)="onChangeState($event.target.value)" id="StateName">
                        <option selected value="0"></option>
                        <option *ngFor="let stateLst of StateList" [value]="stateLst.Id" >{{stateLst.DisplayName}}</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="col-sm-6 pull-left" style="padding: 0 0 0 0px;">
                    <label for="CityName" class="mb-2 mr-sm-2">City Name:</label>
                    <select name="cityname" formControlName="city" class="custom-select" id="CityName">
                        <option selected value="0"></option>
                        <option *ngFor="let cityLst of CityList" [value]="cityLst.Id" >{{cityLst.DisplayName}}</option>
                    </select>
                </div>
                <div class="col-sm-6 pull-right" style="padding: 0 0 0 5px;">
                    <label for="street" class="mb-2 mr-sm-2">Street:</label>
                    <input type="text" formControlName="street" class="form-control mb-2 mr-sm-2" id="street">

                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <div class="col-sm-6 pull-left" style="padding: 0 0 0 0px;">
                    <label for="location">Loaction:</label>
                    <input type="text" formControlName="location" class="form-control mb-2 mr-sm-2" id="location">
                </div>
                <div class="col-sm-6 pull-right" style="padding: 0 0 0 5px;">
                    <label for="dtExpiry" class="mb-2 mr-sm-2">Expiry Date:</label>
                    <input id="dtExpiry" formControlName="ExpiryDate" class="form-control mb-2 mr-sm-2"
                        [owlDateTimeTrigger]="dtExpiry" [owlDateTime]="dtExpiry" readonly>
                    <owl-date-time [pickerType]="'calendar'" #dtExpiry></owl-date-time>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="col-sm-6 pull-left" style="padding: 0 0 0 0px;">
                    <label for="playerType">Player Type:</label>
                    <select name="pType" formControlName="PlayerType" class="custom-select" id="playerType">
                        <option selected value="0"></option>
                        <option selected value="Desktop">Desktop</option>
                        <option selected value="Android">Android</option>
                        <option selected value="iPhone">iPhone</option>
                    </select>
                </div>
                <div class="col-sm-6 pull-right" style="padding: 0 0 0 5px;">
                    <label for="LicenceType">Licence Type:</label>
                    <select name="lType" formControlName="LicenceType" class="custom-select" id="LicenceType">
                        <option selected value="0"></option>
                        <option selected value="Copyright">Copyright</option>
                        <option selected value="DirectLicence">Direct Licence</option>
                    </select>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="col-sm-6 pull-left" style="padding: 0 0 0 0px;">
                    <label for="mType">Media Type:</label>

                    <div class="form-control" id="mType"
                        [ngClass]="{ 'is-invalid': submitted && f.chkMediaType.errors }"
                        style="background-image: none;padding-right: 10px;">
                        <div class="custom-control custom-radio custom-control-inline pull-left">
                            <input type="radio" formControlName="chkMediaType"
                                class="custom-control-input cursor-pointer" id="chkAudio" value="Audio"
                                name="chkMediaType" checked>
                            <label class="custom-control-label cursor-pointer" for="chkAudio">Audio</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline pull-right">
                            <input type="radio" formControlName="chkMediaType"
                                class="custom-control-input cursor-pointer" id="chkVideo" value="Video"
                                name="chkMediaType">
                            <label class="custom-control-label cursor-pointer" for="chkVideo">Video</label>
                        </div>
                    </div>
                    <div *ngIf="submitted && f.chkMediaType.errors" class="invalid-feedback"></div>
                </div>
                <div class="col-sm-6 pull-right" style="padding: 0 0 0 5px;">
                    <label for="uRights">User Rights:</label>
                    <div class="form-control" id="uRights"
                        [ngClass]="{ 'is-invalid': submitted && f.chkuserRights.errors }"
                        style="background-image: none;padding-right: 10px;">
                        <div class="custom-control custom-radio custom-control-inline pull-left ">
                            <input type="radio" formControlName="chkuserRights" name="chkuserRights" value="Lock"
                                class="custom-control-input cursor-pointer" id="chkLock">
                            <label class="custom-control-label cursor-pointer" for="chkLock">Lock</label>
                        </div>
                        <div class="custom-control custom-radio custom-control-inline pull-right">
                            <input type="radio" formControlName="chkuserRights" name="chkuserRights" value="UnLock"
                                class="custom-control-input cursor-pointer" id="chkUnlock" checked>
                            <label class="custom-control-label cursor-pointer" for="chkUnlock">Un-Lock</label>
                        </div>
                    </div>
                    <div *ngIf="submitted && f.chkuserRights.errors" class="invalid-feedback"></div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4">
                <label for="type">Type:</label>

                <div class="form-control" id="type" [ngClass]="{ 'is-invalid': submitted && f.chkType.errors }"
                    style="background-image: none;">
                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" formControlName="chkType" name="chkType" value="SF"
                            class="custom-control-input cursor-pointer" id="chkSF" checked>
                        <label class="custom-control-label cursor-pointer" for="chkSF">Store &amp; Forward</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline ml-2">
                        <input type="radio" formControlName="chkType" name="chkType" value="Stream"
                            class="custom-control-input cursor-pointer" id="chkStream">
                        <label class="custom-control-label cursor-pointer" for="chkStream">Stream</label>
                    </div>
                </div>
                <div *ngIf="submitted && f.chkType.errors" class="invalid-feedback"></div>
            </div>
            <div class="col-sm-4">
                <label for="tokenno">Token No:</label>
                <input type="text" formControlName="TokenNoBkp" class="form-control mb-2 mr-sm-2" id="tokenno" readonly>


            </div>
            <div class="col-sm-4">
                <label for="deviceid">Device Id(UUID):</label>
                <input type="text" formControlName="DeviceId" class="form-control mb-2 mr-sm-2" id="deviceid" readonly>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <button type="button" type="button" (click)="openResetModal(ResetModal)"  class="btn btn-danger pull-right ml-2">Reset token</button>
                <button class="btn btn-primary col-sm-1  pull-right">
                    <i class="fa fa-floppy-o fa-lg" aria-hidden="true"></i>
                </button>
            </div>
        </div>
    </form>
    <div class="mt-2 col-md-12 p-0">
        <ul class="nav nav-tabs">
            <li class=" active"><a data-toggle="tab" href="#home" class="nav-link active ">S&amp;F Playlist Schedule</a>
            </li>
            <li><a data-toggle="tab" href="#menu1" class="nav-link">Advertisemenet </a></li>
            <li><a data-toggle="tab" href="#menu2" class="nav-link">Player Timing </a></li>
        </ul>
        <div class="tab-content">
            <div id="home" class="tab-pane  in active">
                <table class="mt-2  table table-hover table table-sm  table-bordered">
                    <thead class="thead-light">
                        <tr class="d-flex">
                            <th class="col">Format Name</th>
                            <th class="col">Playlist Name</th>
                            <th class="col">Start Time</th>
                            <th class="col">End Time</th>
                            <th class="col">Week Day</th>
                            <th class="col-sm-1 Link-Center_Width"></th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr class="d-flex" *ngFor="let schLst of scheduleList;">
                            <td class="col">
                                {{schLst.formatName}}
                            </td>
                            <td class="col">
                                {{schLst.playlistName}}
                            </td>
                            <td class="col">
                                {{schLst.StartTime}}
                            </td>
                            <td class="col">
                                {{schLst.EndTime}}
                            </td>
                            <td class="col">
                                {{schLst.WeekDay}}
                            </td>
                            <td class="col-sm-1 cursor-pointer Link-Center_Width text-primary"
                                (click)="openModal(SchContent, schLst.playlistName, schLst.id ,schLst.StartTime,schLst.EndTime )"><i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="menu1" class="tab-pane fade">
                <table class="mt-2 table table-hover table table-sm  table-bordered">
                    <thead class="thead-light">
                        <tr class="d-flex">
                            <th class="col">Advt Name</th>
                            <th class="col">Type</th>
                            <th class="col">Start Date</th>
                            <th class="col">Playing Mode</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="d-flex" *ngFor="let adLst of adList;">
                            <td class="col">{{adLst.adName}}</td>
                            <td class="col">{{adLst.atype}}</td>
                            <td class="col">{{adLst.startDate}}</td>
                            <td class="col">{{adLst.playingMode}}</td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <div id="menu2" class="tab-pane fade">
                <table class="mt-2  table table-hover table table-sm  table-bordered">
                    <thead class="thead-light">
                        <tr class="d-flex">
                            <th class="col">Start Date</th>
                            <th class="col">Time 1</th>
                            <th class="col">Time 2</th>
                            <th class="col">Time 3</th>
                            <th class="col">Time 4</th>
                            <th class="col">Time 5</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="d-flex" *ngFor="let prayerLst of prayerList;">
                            <td class="col">{{prayerLst.StartDate}}</td>
                            <td class="col">{{prayerLst.Time1}}</td>
                            <td class="col">{{prayerLst.Time2}}</td>
                            <td class="col">{{prayerLst.Time3}}</td>
                            <td class="col">{{prayerLst.Time4}}</td>
                            <td class="col">{{prayerLst.Time5}}</td>
                        </tr>

                    </tbody>
                </table>
            </div>

        </div>

    </div>
</div>


<ng-template #SchContent let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h5>Modify Playlist Time</h5>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form [formGroup]="TokenInfoModifyPlaylist">
                <div class="row">
                    <div class="col-sm-12">
                        <label for="mPlaylistName" class="mb-2 mr-sm-2">Playlist Name:</label>
                        <input type="text" formControlName="ModifyPlaylistName" class="form-control mb-2 mr-sm-2"
                            id="mPlaylistName" readonly>
                    </div>
                    <div class="col-sm-12">
                        <div class="col-sm-6 pull-left" style="padding: 0 0 0 0;">
                            <label class="mb-2 mr-sm-2" for="sTime">Start time: </label>
                            <input id="sTime" class="form-control mb-2 mr-sm-2" formControlName="ModifyStartTime"
                                [owlDateTimeTrigger]="dt1" [owlDateTime]="dt1" readonly>
                            <owl-date-time [pickerType]="'timer'" #dt1></owl-date-time>
                        </div>
                        <div class="col-sm-6 pull-right" style="padding: 0 0 0 5px;">
                            <label class="mb-2 mr-sm-2" for="sTime">End time: </label>
                            <input id="eTime" class="form-control mb-2 mr-sm-2" formControlName="ModifyEndTime"
                                [owlDateTimeTrigger]="dt2" [owlDateTime]="dt2" readonly>
                            <owl-date-time [pickerType]="'timer'" #dt2></owl-date-time>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <button class="btn btn-primary col-sm-2  pull-right" (click)="onSubmitTokenInfoModifyPlaylist()"
                            (click)="d('Cross click')">
                            <i class="fa fa-floppy-o fa-lg" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>

</ng-template>

<ng-template #ResetModal let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h5>Reset Token</h5>
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-12">
                        <p>Are you sure to reset the token?</p>
                    </div>
                </div>
                    <div class="row">
                        <div class="col-sm-12">
                                <button class="btn btn-primary col-sm-2  pull-right"
                                (click)="d('Cross click')">
                                <i class="fa fa-times fa-lg" aria-hidden="true"></i>
                            </button>
                            <button class="btn btn-danger col-sm-2  pull-right mr-2" (click)="ResetToken()"
                                (click)="d('Cross click')">
                                <i class="fa fa-check fa-lg" aria-hidden="true"></i>
                            </button>
                           
                        </div>
                    </div>
                 
            </div>
        </div>
    
    </ng-template> -->
    <ng-template #modalCommon let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h5>{{HeaderText}}</h5>
          <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="container-fluid">
      
            <div class="row">
              <div class="col-sm-12">
                <label for="State" class="mb-2 mr-sm-2">Name:</label>
                <input type="text" [(ngModel)]="NewName" class="form-control mb-2 mr-sm-2" id="fName">
              </div>
      
            </div>
            <div class="row">
              <div class="col-sm-12">
                <button class="btn btn-primary col-sm-2  pull-right" type="button" (click)="onSubmitModal()"
                  (click)="d('Cross click')">
                  <i class="fa fa-floppy-o fa-lg" aria-hidden="true"></i>
                </button>
              </div>
            </div>
      
          </div>
        </div>
      
      </ng-template>